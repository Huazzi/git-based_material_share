### 功能需求 (Functional Requirements)

*   **FR2: 文件上传**
    *   **FR2.1 上传接口：**
        *   描述：用户可以通过浏览器选择本地文件并上传到指定的Git仓库的特定路径下。
        *   细节：
            *   支持文件类型：Word (.doc, .docx), PDF (.pdf), 图片 (.jpg, .jpeg, .png, .gif, .svg), 视频 (.mp4, .mov, .avi - 考虑预览兼容性，优先 .mp4, .webm)。
            *   上传过程中应有进度提示。
            *   后端服务接收文件，并通过Git API将其提交（commit）并推送（push）到配置的Git仓库。
            *   应处理文件名冲突（例如，自动重命名或提示用户）。
        *   验收标准：用户选择的文件能成功上传到Git仓库的指定位置，并在文件列表中可见。

*   **FR3: 文件下载**
    *   **FR3.1 下载功能：**
        *   描述：用户可以从文件列表中选择文件进行下载。
        *   细节：后端服务根据请求，从Git仓库获取文件内容并提供给用户下载。
        *   验收标准：用户可以成功下载仓库中的任意文件到本地。

*   **FR4: 文件列表与浏览**
    *   **FR4.1 文件树展示：**
        *   描述：系统应能以树状或列表形式展示Git仓库中指定路径下的文件和文件夹。
        *   细节：
            *   显示文件名、文件类型图标、修改时间（从Git提交记录获取）、文件大小。
            *   支持文件夹导航，点击文件夹可进入下一级。
        *   验收标准：用户可以清晰地看到仓库中的文件结构，并能进行导航。
    *   **FR4.2 文件搜索：**
        *   描述：提供基于文件名的简单搜索功能。
        *   验收标准：用户输入关键词能快速找到匹配的文件。

*   **FR5: 在线文件阅读**

    *   **FR5.1 PDF文件阅读：**
        *   描述：用户点击PDF文件时，应在浏览器内直接打开进入设计好的、UI美观的文件阅读界面并流畅阅读。
        *   技术参考：可使用pdf.js等库。
        *   验收标准：PDF文件内容清晰展示，支持翻页、缩放等基本阅读操作。
    *   **FR5.2 图片文件查看：**
        *   描述：用户点击图片文件时，应在浏览器内直接展示。
        *   技术参考：使用HTML `<img>` 标签或灯箱效果库。
        *   验收标准：图片清晰展示，支持常见的图片格式。
    *   **FR5.3 Word文档阅读：**
        *   描述：用户点击Word文档时，尝试在浏览器内进行阅读，直接打开进入设计好的、UI美观的文件阅读界面。
        *   技术参考：
            *   方案一（推荐）：服务器端将Word转为PDF后进行阅读（可能需要LibreOffice/Pandoc等工具，会增加后端复杂性）。
            *   方案二：前端使用JS库尝试渲染（如Mammoth.js），效果可能有限。
            *   方案三：提示用户下载查看。
        *   验收标准：Word文档能以某种形式在线查看，或明确提示下载。
    *   **FR5.4 视频文件查看：**
        *   描述：用户点击视频文件时，应在浏览器内使用HTML5播放器进行播放。
        *   技术参考：使用HTML `<video>` 标签。
        *   验收标准：支持主流视频格式（如MP4）的在线播放，提供播放/暂停、音量控制、进度条等。
    *   **FR5.5 文本文件查看：**
        *   描述：对于常见的纯文本文件（.txt, .md等），可以直接在浏览器中展示内容。
        *   技术参考：Markdown文件需要进行渲染展示。
        *   验收标准：文本内容清晰可读。

---

### 3. 非功能需求 (Non-Functional Requirements)

*   **NFR1: 用户体验 (UX)**
    *   **NFR1.1 界面美观：** 界面设计应现代、简洁、美观，符合目标用户审美。
    *   **NFR1.2 易用性：** 操作流程应直观易懂，用户无需培训即可上手。
    *   **NFR1.3 响应式设计：** 界面应能适应不同屏幕尺寸（主要是桌面浏览器）。
    *   **NFR1.4 阅读体验：** 在线预览功能应提供流畅、清晰的阅读体验，尤其是PDF和文档类。

*   **NFR2: 性能**
    *   **NFR2.1 页面加载速度：** 主要页面和文件列表加载时间应在3秒内。
    *   **NFR2.2 文件预览加载速度：** 常见大小的文件预览应快速响应。
    *   **NFR2.3 文件上传/下载速度：** 受限于用户网络及Git平台API，但系统本身不应成为瓶颈。
    *   **NFR2.4 API调用频率：** 注意Git平台的API调用频率限制，后端应做适当的缓存或优化。

*   **NFR3: 安全性**
    *   **NFR3.1 认证安全：** OAuth流程的实现必须安全可靠，Token需妥善保管。
    *   **NFR3.2 访问控制：** 确保只有授权用户才能访问和操作文件。
    *   **NFR3.3 数据传输安全：** 客户端与服务器、服务器与Git平台之间的数据传输应使用HTTPS。

*   **NFR4: 可用性**
    *   系统核心功能依赖于GitHub/Gitee平台的可用性。
    *   轻量级后端服务应具备高可用性。

*   **NFR5: 可维护性**
    *   代码结构清晰，注释良好。
    *   前后端分离架构，便于独立开发和维护。
    *   配置项（如Git仓库地址、分支等）应易于修改。

*   **NFR6: 兼容性**
    *   **NFR6.1 浏览器兼容性：** 支持主流现代浏览器（Chrome, Firefox, Edge, Safari最新版本）。
    *   **NFR6.2 文件格式兼容性：** 在线预览功能应尽可能兼容声明的文件格式。